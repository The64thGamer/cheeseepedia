<h1>{{- partial "emojify.html" .Title -}}</h1>
{{- .Content | safeHTML -}}

<div class="dropdown-area">
  {{- partialCached "display-dropdown-FEC.html" . -}}
  {{- partialCached "display-dropdown-manufacturer.html" . -}}
  {{- partialCached "display-dropdown-movie.html" . -}}
  {{- partialCached "display-dropdown-year.html" . -}}
</div>

{{/* Collect pages with GitInfo */}}
{{- $pagesWithGitInfo := where site.RegularPages "GitInfo" "ne" nil -}}

{{/* Sort by Git modified date */}}
{{- $sortedPages := sort $pagesWithGitInfo "GitInfo.AuthorDate" "desc" -}}

{{/* Paginate: 50 per page */}}
{{- $paginator := .Paginate $sortedPages 50 -}}

<div class="gallery">
    <div id="tagsContainer" style="  
        display: flex;
        flex-wrap: wrap;
        align-items: stretch;
        justify-content: space-around;"
    >
        {{- range $paginator.Pages -}}
        <div class="{{ delimit (apply .Params.categories "urlize" ".") " " }} {{ partial "date-to-year.html" .Params.startDate }}" style="display:none;">
            <div class="gallery-image-box">
                {{- partial "filename-to-photo.html" .Title -}}
            </div>
        </div>
        {{- end -}}
    </div>
</div>

{{/* Pagination UI */}}
<div class="pagination">
  {{- template "_internal/pagination.html" . -}}
</div>

{{- partialCached "display-dropdown-script.html" . -}}
